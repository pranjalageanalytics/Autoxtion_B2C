{% extends "base2.html" %}
{% load static from staticfiles %}
{% load i18n %}

{% block head %}
<script src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
<!--<script src="{% static 'js/validation/appoinment_date.js' %}"></script>-->
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
 
  <link rel="stylesheet" href="{% static 'css/wickedpicker.css' %}">
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
 <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
  
  <script type="text/javascript" src="{% static 'js/wickedpicker.js' %}"></script>
  
  <script src="{% static 'js/validation/appointment_form.js' %}"></script>

<script type='text/javascript'>
$(function() {
	
	
	
    $('#id_customer').change(function() {
        // if changed to, for example, the last option, then
        // $(this).find('option:selected').text() == D
        // $(this).val() == 4
        // get whatever value you want into a variable
        var x = $(this).val();
        // and update the hidden input's value
        $('#myhidden').val(x);
    });
    $('#id_member').change(function() {
        // if changed to, for example, the last option, then
        // $(this).find('option:selected').text() == D
        // $(this).val() == 4
        // get whatever value you want into a variable
        var x = $(this).val();
        // and update the hidden input's value
        $('#myhidden1').val(x);
    });
    $('#id_request').change(function() {
        // if changed to, for example, the last option, then
        // $(this).find('option:selected').text() == D
        // $(this).val() == 4
        // get whatever value you want into a variable
        var x = $(this).val();
        // and update the hidden input's value
        $('#myhidden2').val(x);
    });
    $('#id_status').change(function() {
        // if changed to, for example, the last option, then
        // $(this).find('option:selected').text() == D
        // $(this).val() == 4
        // get whatever value you want into a variable
        var x = $(this).val();
        // and update the hidden input's value
        $('#myhidden3').val(x);
    });
});

$(document).ready(function(){
	$("#promo_btn").click(function()
	{
		$("#appointment_form").submit();
	});	
	$("#id_customer").attr("class","form-control");
	$("#id_member").attr("class","form-control");
	$("#id_request").attr("class","form-control");
	$("#id_status").attr("class","form-control");
	$("#id_date").attr("class","form-control");
	$("#id_from_time").attr("class","form-control");
	$("#id_to_time").attr("class","form-control");
	$("#id_coment").attr("class","form-control");
	$(".aaaa").attr("class","form-control");
	$("#pr").prop('disabled', true);
	$("#desc").addClass("form-control");
	$("#desc").prop('disabled',true);
});
</script>

<script>
  $(function() {
	  $( "#id_date" ).datepicker({minDate:0,dateFormat:'dd/mm/yy'});
	//$( "#id_date" ).datepicker({dateFormat:'dd/mm/yy'});
    $('#id_from_time').wickedpicker();
    $('#id_to_time').wickedpicker();

  });
  </script>
 <style>
  .form-control[disabled], .form-control[readonly], fieldset[disabled] .form-control {
    background-color: #f4f6f6;
    opacity: 1;
}
  </style>
  <style>
.seperator{
border-top: 4px solid #F38619;
}
.active_class{
color:#f38619;
}
.btn-primary {
    color: #fff;
    background-color: #337ab7;
    border-color: #2e6da4;
}


</style>

{% endblock %}


{% block content %}
  <!-- Breadcrum -->
  <div class="page-header">
             <h4 class="" style="color: #6B748A;"><span class="glyphicon glyphicon-th-list"></span>
               APPOINTMENT FORM</h4>

        </div>
 <div class="row">   
              
          
          <div class="dropdown pull-right">
 <a href="{%  url 'customer:server_list'   %}">
            <button type="button" class="btn btn-primary " data-dismiss="modal">
               <i class="fa fa-reply" aria-hidden="true">
               </i> Back</button>
           </a>
             <button class="btn btn-success dropdown-toggle" type="button" data-toggle="dropdown">
               <i class="fa fa-floppy-o"></i> Save
                <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                       <li><a id="promo_btn"style="cursor: pointer;"><i class="fa fa-check" aria-hidden="true"></i> Save and Exit</a></li>
                   </ul>
            </div>
       
  </div>

<input type="hidden" id="group" value="{{group.name}}">

<div class="row" >
       <!-- Breadcrum -->
  
	<div class="page"style="margin-bottom:10px;">
         <div class="row">
         <div class="col-md-2"></div>
             <div class="col-md-6 col-xs-6 col-sm-6" >
               <center> <h3><b>Service Request	</b></h3></center>
                {% if request_detail %}
				  
			    <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Customer:</label>
			     <div class="col-md-8 col-xs-8 col-sm-8">
			    	 <input type="text" class="form-control" value="{{request_detail.customer.name}}" disabled>
			    	 <span class="help-block"> </span>  
				</div>
			
			<label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Service Type:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			       <input type="text" class="form-control" value="  {{request_detail.service_type}}" disabled>
			       <span class="help-block"> </span>  
				</div>
                 
                  
					{% if request_detail.promotion %}
					
					 <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Promotion:</label>
			     <div class="col-md-8 col-xs-8 col-sm-8">
			      
			     			       <input type="text" class="form-control" value="  {{request_detail.promotion}}" disabled>
			     
                      
			         <span class="help-block"> </span>  
			    </div>
			
	            
             <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Discount:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			      
			     	 <input type="text" class="form-control" value=" {{request_detail.promotion.discount}}" disabled>
			      
                 
			         <span class="help-block"> </span>  
			    </div>
			
			<label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Coupon Code:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			      
			      <input type="text" class="form-control" value="  {{request_detail.promotion.coupon_code}}" disabled>
			      
     
			         <span class="help-block"> </span>  
			    </div>
			
				<label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">From Date:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			     	 <input type="text" class="form-control" value=" {{request_detail.promotion.from_date}}" disabled>
			     
			     
                    
			         <span class="help-block"> </span>  
			    </div>
			
				<label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">To Date:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			    <input type="text" class="form-control" value="  {{request_detail.promotion.to_date}}" disabled>
			    
                   
			         <span class="help-block"> </span>  
			    </div>
			
				
                {% else %} 
                <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Date:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			       
			     <input type="text" class="form-control" value="  {{request_detail.date}}" disabled>
			      
                   
			         <span class="help-block"> </span>  
			    </div>
			
			 <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">From Time:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			     			     <input type="text" class="form-control" value="  {{request_detail.from_time}}" disabled>
			     
			      
                   
			         <span class="help-block"> </span>  
			    </div>
			
			 <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">To Time:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			       
			      	 <input type="text" class="form-control" value="   {{request_detail.to_time}}" disabled>
			      
                  
			         <span class="help-block"> </span>  
			    
			</div>
				
                
                   
                {% endif %}
                 
                  <label class="col-md-4 col-xs-6 col-sm-6 control-label" for="model_id">Description:</label>
			     
			     <div class="col-md-8 col-xs-8 col-sm-8">
			      <textarea class="form-control" disabled>{{request_detail.description}}</textarea>
			     
			         <span class="help-block"> </span>  
			    </div>
			
               
				<input type="hidden" name="promo_id" id="promotion_id" value="{{promo_detail.pk}}">
				
			
				
				 
				 {% endif %}
                
                               
               
                
	      <div class="col-md-12 col-sm-12 col-xs-12">                   <hr class="separator-line ">
	      
                <center><h3><b>Schedule Appointment</b></h3></center>
			  <form class="form-horizontal" id="appointment_form" method="post" name="form" >{% csrf_token %}
<input id="myhidden1" name="member" type="hidden" value="{{mem_id}}">
<input id="myhidden2" name="request" type="hidden" value="{{req_id}}">
<input id="myhidden3" name="status" type="hidden" value="5">
<input id="myhidden" name="customer" type="hidden" value="{{cust_id}}">
	         <input type='hidden' id='id_hidden' value=''>
    	      
    	      
			<!-- <div class="form-group">
			    <label class="col-md-5 col-xs-5 col-sm-6 control-label" for="model_id">Date*:</label>  
			     <div class="col-md-7 col-xs-7 col-sm-7">
                       {{form.date}} <div id="error7" style="color:red"></div>
			         <span class="help-block"> </span>  
			    </div>
			</div>
                <div class="form-group">
			    <label class="col-md-5 col-xs-5 col-sm-6 control-label" for="model_id">From Time*:</label>  
			     <div class="col-md-7 col-xs-7 col-sm-7">
                       {{form.from_time}} <div id="error8" style="color:red"></div>
			         <span class="help-block"> </span>  
			    </div>
			</div>
				
			   <div class="form-group">
			    <label class="col-md-5 col-xs-5 col-sm-6 control-label" for="model_id">To Time*:</label>  
			     <div class="col-md-7 col-xs-7 col-sm-7">
                       {{form.to_time}} <div id="error9" style="color:red"></div>
			         <span class="help-block"> </span>  
			    </div>
			</div> -->
				
		    <div class="form-group">
			    <label class="col-md-5 col-xs-6 col-sm-6 control-label" for="model_id">Comment*:</label>  
			     <div class="col-md-7 col-xs-7 col-sm-7">
                       {{form.coment}}<div id="err7" style="color:red"></div>

			         <span class="help-block"> </span>  
			    </div>
			</div>
		   
				
				 

		
      
      </form>
      </div>
      </div>

	</div>
</div></div>
    
    
{% endblock %}
